
<h1>VidPay hey</h1>
<!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/XyNlqQId-nk" frameborder="0" allowfullscreen></iframe> -->
<script src="./javascripts/lib/sha256.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>

<script>
  var socket = io.connect();
  
  // socket.on('first', function(data){
  //   //console.log(socket.id);
  //   //console.log("coming in on first");
  //   socket.emit('conn', { my: 'data' });
  // });
  
  socket.on('foo', function(data){
    //console.log('foo'+socket.id);
    var temp = true;
    var number = data.number;
    var data = data.data;
    //var low = data.range[0];
    //var high = data.range[0];
    for(var i = 1; i <= 2; i++){
      var temp = number + i + data;
      if(CryptoJS.SHA256(temp).toString().substring(0,4) === '0000'){
        data.nonce = i;
        data.result = CryptoJS.SHA256(temp).toString();
        flag = false;
        socket.emit('feedbackHash', data);
        break;
      }
    }
    if(flag){
      data.result = 0;
      socket.emit('feedbackHash', data);
    }
  });

</script>